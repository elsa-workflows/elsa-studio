@using BlazorMonaco.Editor
@inject ILocalizer Localizer

@{
    var inputDescriptor = EditorContext.InputDescriptor;
    var displayName = inputDescriptor.DisplayName;
    var description = inputDescriptor.Description;
}

<FieldExtension UIHintComponent="@InputUIHints.CodeEditor" EditorContext="@EditorContext">
    <ChildContent>
        <MudField Variant="Variant.Outlined" Label="@Localizer[displayName]" HelperText="@Localizer[description]" Margin="Margin.Dense">
            <StandaloneCodeEditor @ref="_monacoEditor"
                                  Id="@_monacoEditorId"
                                  ConstructionOptions="ConfigureMonacoEditor"
                                  OnDidInit="OnMonacoInitializedAsync"
                                  OnDidChangeModelContent="OnMonacoContentChanged"
                                  CssClass="studio-expression-input-monaco-editor studio-monaco-editor-large" />
        </MudField>
    </ChildContent>
</FieldExtension>