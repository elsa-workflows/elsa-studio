@using Elsa.Studio.Workflows.Pages.WorkflowDefinitions.Edit.ActivityProperties
@using Elsa.Studio.Workflows.UI.Contracts
@using Orientation = Radzen.Orientation

<RadzenSplitter Orientation="Orientation.Vertical" Style="height: calc(100vh - var(--mud-appbar-height));" Resize="@OnResize">
    <RadzenSplitterPane Size="50%">
        @if (WorkflowDefinition != null)
        {
            <DiagramDesignerWrapper Activity="WorkflowDefinition.Root" ActivitySelected="OnActivitySelected" IsReadOnly="true" WorkflowInstanceId="@WorkflowInstance.Id" PathChanged="PathChanged"/>
        }
    </RadzenSplitterPane>
    <RadzenSplitterPane Size="30%" @ref="ActivityPropertiesPane">
        @if(SelectedWorkflowExecutionLogRecord != null)
        {
            <WorkflowExecutionLogProperties VisiblePaneHeight="@_propertiesPaneHeight" JournalEntry="SelectedWorkflowExecutionLogRecord"/>
        }
        else if(SelectedActivity != null)
        {
            <ActivityProperties @ref="ActivityPropertiesTab" WorkflowDefinition="@WorkflowDefinition" Activity="@SelectedActivity" ActivityDescriptor="@ActivityDescriptor" VisiblePaneHeight="@_propertiesPaneHeight"/>
        }
        
    </RadzenSplitterPane>
</RadzenSplitter>