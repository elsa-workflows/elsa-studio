@using Variant = MudBlazor.Variant
@inherits StudioComponentBase
@using Elsa.Studio.Workflows.Services
@inject ILocalizer Localizer

<MudDialog>
    <DialogContent>
        <EditForm EditContext="_editContext" OnValidSubmit="OnValidSubmit">
            <FluentValidationValidator @ref="_fluentValidationValidator" Validator="_validator" DisableAssemblyScanning="true" />
            <MudStack>
                <MudRadioGroup @bind-Value="_captureModel.Format">
                    <MudRadio T="string" Value="@("PNG")" Dense="true" Size="Size.Medium">PNG</MudRadio>
                    <MudRadio T="string" Value="@("JPEG")" Dense="true" Size="Size.Medium">JPEG</MudRadio>
                    <MudRadio T="string" Value="@("SVG")" Dense="true" Size="Size.Medium">SVG</MudRadio>
                </MudRadioGroup>
                <MudTextField Label="@Localizer["File name"]" @bind-Value="_captureModel.FileName" For="@(() => _captureModel.FileName)" HelperText="@Localizer["Name of the exported file. The extension is added automatically."]" Variant="Variant.Outlined" Margin="Margin.Dense" />
                @if (_captureModel.Format != "SVG")
                {
                    <MudNumericField Label="@Localizer["Padding"]" @bind-Value="_captureModel.Padding" For="@(() => _captureModel.Padding)" HelperText="@Localizer["Padding around the captured flowchart."]" Variant="Variant.Outlined" Margin="Margin.Dense" Min="0" />
                }
            </MudStack>
        </EditForm>
    </DialogContent>
    <DialogActions>
        <MudButton Disabled="loading" OnClick="OnCancelClicked">@Localizer["Cancel"]</MudButton>
        <MudButton Color="Color.Primary" OnClick="OnSubmitClicked">@Localizer["Ok"]</MudButton>
    </DialogActions>
</MudDialog>